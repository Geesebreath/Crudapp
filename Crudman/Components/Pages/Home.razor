@page "/"
@using Microsoft.AspNetCore.Components.QuickGrid
@using Microsoft.EntityFrameworkCore
@using Crudman.Models
@implements IAsyncDisposable
@inject IDbContextFactory<URLModelContext> DbFactory
@rendermode InteractiveServer

<PageTitle>Home</PageTitle>

<h1>Cruditizer Home</h1>

<QuickGrid Class="table" Items="context.URLModel">
    <PropertyColumn Property="urlmodel => urlmodel.Order" />
    <PropertyColumn Property="urlmodel => urlmodel.URL" />

    <!--<TemplateColumn Context="urlmodel">
        <a href="@($"urlmodels/edit?id={urlmodel.Id}")">Edit</a> |
        <a href="@($"urlmodels/details?id={urlmodel.Id}")">Details</a> |
        <a href="@($"urlmodels/delete?id={urlmodel.Id}")">Delete</a>
    </TemplateColumn> -->
</QuickGrid>
<button class="btn btn-primary" @onclick="CheckURLs">Check</button>
@code {
    private URLModelContext context = default!;

    protected override void OnInitialized()
    {
        context = DbFactory.CreateDbContext();
    }

    public async ValueTask DisposeAsync() => await context.DisposeAsync();

    public void CheckURLs()
    {

    }
}



